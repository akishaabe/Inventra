<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="sidebar" [class.open]="sidebarOpen">
    <div class="sidebar-header">
      <h2 class="logo">inventra</h2>
      <button class="close-btn" (click)="toggleSidebar()">☰</button>
    </div>

    <nav class="nav-links">
      <a routerLink="/dashboard" routerLinkActive="active">Dashboard</a>
      <a routerLink="/inventory" routerLinkActive="active">Inventory</a>
      <a routerLink="/forecasting" routerLinkActive="active">Forecasting</a>
      <a routerLink="/reports" routerLinkActive="active">Reports</a>
      <a routerLink="/settings" routerLinkActive="active">Settings</a>
      <a (click)="openLogoutModal()">Logout</a>
    </nav>
  </aside>

  <!-- Header -->
  <header class="dashboard-header">
    <div class="header-left">
      <button class="menu-btn" (click)="toggleSidebar()" *ngIf="!sidebarOpen">☰</button>
      <h2 class="brand-name" *ngIf="!sidebarOpen">inventra</h2>
    </div>

    <div class="header-right">
      <span class="user-name">Café Pèdro</span>
      <img
        src="assets/images/profile icon.png"
        alt="Profile"
        class="profile-icon"
        (click)="goToSettings()"
        style="cursor: pointer;"
      />
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="dashboard-main">
    <h1 class="settings-title">Settings</h1>

    <div class="settings-grid">
      <!-- LEFT PANEL: Profile Summary -->
      <section class="profile-card">
        <div class="profile-pic"></div>
        <h2 class="profile-name">{{ firstName }} {{ lastName }}</h2>

        <div class="profile-info">
          <p><strong>Email</strong><br />{{ email }}</p>
          <p><strong>Role</strong><br />Admin</p>
          <p><strong>Status</strong><br />Active</p>
          <p><strong>Last Login</strong><br />October 19, 2025, 18:00 PST</p>
        </div>
      </section>

      <!-- RIGHT PANEL -->
      <div class="right-column">
        <!-- Edit Profile -->
        <section class="edit-profile">
          <h3>Edit Profile</h3>
          <div class="form-grid">
            <input type="text" placeholder="First Name" [(ngModel)]="firstName" name="firstName" />
            <input type="text" placeholder="Last Name" [(ngModel)]="lastName" name="lastName" />
          </div>
          <input type="email" placeholder="Email" [(ngModel)]="email" name="email" class="email-input" />

          <div class="save-row">
            <button class="save-btn" (click)="saveChanges()">Save Changes</button>
          </div>
        </section>

        <!-- Manage Users -->
        <section class="manage-users">
          <div class="manage-header">
            <h3>Manage Users</h3>
            <a href="#" (click)="openAddUserModal($event)">Add a user</a>
          </div>

          <div class="user-list">
            <div class="user-card" *ngFor="let user of users">
              <div class="user-avatar"></div>
              <div class="user-name">{{ user.name }}</div>
              <div class="user-role">{{ user.role }}</div>
              <button class="remove-btn" (click)="promptRemoveUser(user)">
                <i class="fa fa-user-minus"></i>
              </button>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- Logout Modal -->
  <div class="logout-modal-overlay" *ngIf="showLogoutModal">
    <div class="logout-modal">
      <h2>LOG OUT</h2>
      <p>Are you sure you want to log out?</p>
      <div class="logout-buttons">
        <button class="yes-btn" (click)="confirmLogout()">Yes</button>
        <button class="no-btn" (click)="closeLogoutModal()">No</button>
      </div>
    </div>
  </div>
</div>
